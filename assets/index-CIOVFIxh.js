(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();async function I(){try{return await(await fetch("https://random-word-api.vercel.app/api?words=250")).json()}catch{return console.error("failed to fetch words"),null}}const c=document.querySelector(".words-box"),i=document.getElementById("input-field"),g=document.querySelector(".timer-text"),p=document.querySelector(".restart-btn"),h=document.querySelector(".result-menu"),v=document.querySelector(".wpm");let m,u=0,y=0,L=18,s=0,a;i==null||i.addEventListener("input",q);i==null||i.addEventListener("beforeinput",O);p==null||p.addEventListener("click",x);function S(){i.value="",u=0,y=0,s=0,a==null||a.stop()}async function x(){S(),m=await I()??[],E(),a=C(6e4,1e3,t=>{const n=(t/1e3).toString(),l=`0:${n.length<2?"0"+n:n}`;g&&(g.textContent=l)},()=>{h==null||h.setAttribute("style",""),v&&(v.textContent=y+" WPM")}),f("still")}function E(){if(!c)return;s=0;const r=m.length-u;Array.from(c.children).forEach((t,n,l)=>{t.remove()});for(let t=0,n=u;t<Math.min(L,r);t++,n++){const l=m[n],e=document.createElement("div");e.textContent=l,e.className="word",c.append(e)}}function q(r){if(a==null||a.start(),r instanceof InputEvent){const t=b()?"correct":"wrong";f(t)}}function O(r){r instanceof InputEvent&&r.data===" "&&(r.preventDefault(),P())}function P(){W()?(y++,f("correct")):f("wrong"),i.value="",u++,s++,s>=L&&E(),f("still")}function W(){return i.value===m[u]}function b(){const r=i.value.length,t=m[u].slice(0,r);return i.value===t}function f(r){if(!(!c||!c.children[s])){switch(c.children[s].classList.add("current"),r){case"correct":c.children[s].classList.add("correct"),c.children[s].classList.remove("wrong");break;case"wrong":c.children[s].classList.add("wrong"),c.children[s].classList.remove("correct");break}s>0&&c.children[s-1].classList.remove("current")}}function C(r=6e4,t=1e3,n,l){let e=r,o=!1,d=!1;n&&n(e);function w(){d||(e-=t,n&&n(e),setTimeout(()=>{e>0?w():l&&l()},t))}return{stop:()=>{d=!0},start:()=>{o||(o=!0,w())}}}x();
